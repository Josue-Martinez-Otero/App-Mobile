<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <title>School Control</title>
</head>

<body>
    <div data-role="page">
        <div data-role="header" style="overflow: hidden;">
            <h1>School Control</h1>
            <a href="#" data-icon="gear" class="ui-btn-right">Options</a>
            <div data-role="navbar">
                <ul>
                    <li><a href="#">Students</a></li>
                    <li><a href="#">Teachers</a></li>
                    <li><a href="#">Classrooms</a></li>
                </ul>
            </div>
        </div>
        
        <div role="content" class="ui-content">
            <form action="/api/students/insert" method="POST">
                <label for="studentID"><h4>Matricula:</h4></label>
                <input type="number" name="student_id" id="studentID">

                <label for="txtStudentName"><h4>Nombre:</h4></label>
                <input type="text" name="name" id="txtStudentName">

                <label for="txtStudentLastname"><h4>Apellido:</h4></label>
                <input type="text" name="lastname" id="txtStudentLastname">

                <label for="txtStudentGrade"><h4>Grado:</h4></label>
                <input type="text" name="grade" id="txtStudentGrade">

                <label for="txtStudentGroup"><h4>Grupo:</h4></label>
                <input type="text" name="group" id="txtStudentGroup">

                <label for="studentAverage"><h4>Promedio:</h4></label>
                <input type="number" name="average" id="studentAverage">

                <button class="ui-btn ui-btn-inline">Guardar</button>
            </form>
            <ul data-role="listview" data-filter="true" data-filter-reveal="true" data-filter-placeholder="student">
                <% students.forEach(student => { %>
                    <div data-role="collapsible" data-content-theme="none">
                        <h4><%= student.name %></h4>
                        <p>Matr√≠cula: <%= student.student_id %></p>
                        <p>Nombre: <%= student.name %></p>
                        <p>Apellidos: <%= student.lastname %></p>
                        <p>Grado: <%= student.grade %></p>
                        <p>Grupo: <%= student.group %></p>
                        <p>Promedio: <%= student.average %></p>
                        <!-- Enlace para editar estudiante -->
                        <a href="/api/students/getOne/<%= student.student_id %>" class="ui-btn ui-icon-edit ui-btn-icon-bottom">Editar</a>
                        <a href="/api/students/deleteOne/<%= student.student_id %>" class="ui-btn ui-icon-edit ui-btn-icon-bottom">Eliminar</a>
                    </div>
                <% }); %>
            </ul>
            
        </div>

        <div data-role="footer" style="overflow: hidden;">
            <h4 style="text-align: center;">Social Networks</h4>
            <div data-role="navbar">
                <ul>
                    <li><a href="#" data-icon="user"></a></li>
                    <li><a href="#" data-icon="heart"></a></li>
                    <li><a href="#" data-icon="mail"></a></li>
                </ul>
            </div>
        </div>
    </div>
</body>

</html>